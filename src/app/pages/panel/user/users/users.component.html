<div class="app-users">
  <div class="card">
    <p-table #dt [value]="users" [paginator]="true" [rows]="10" [showCurrentPageReport]="true" responsiveLayout="scroll"
             currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
             [rowsPerPageOptions]="[10,25,50]"
             [globalFilterFields]="['name','country.name','representative.name']">
      <ng-template pTemplate="caption">
        <div class="flex flex-wrap gap-2 align-items-center justify-content-between">
                <span class="p-input-icon-left w-full sm:w-20rem flex-order-1 sm:flex-order-0">
                    <i class="pi pi-search"></i>
                    <input pInputText type="text" (input)="onGlobalFilter(dt, $event)" placeholder="Pesquisar usuário"
                           class="w-full"/>
                </span>
          <button (click)="navigateToCreateUser()" pButton
                  class="p-button-outlined w-full sm:w-auto flex-order-0 sm:flex-order-1" icon="pi pi-user-plus"
                  label="Novo usuário"></button>
        </div>
      </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="name" class="white-space-nowrap" style="width:25%">Nome
            <p-sortIcon field="name"></p-sortIcon>
          </th>
          <th pSortableColumn="username" class="white-space-nowrap" style="width:25%">Usuário
            <p-sortIcon field="username"></p-sortIcon>
          </th>
          <th pSortableColumn="createdAt" class="white-space-nowrap" style="width:25%">Criado em
            <p-sortIcon field="createdAt"></p-sortIcon>
          </th>
          <th pSortableColumn="role" class="white-space-nowrap" style="width:25%">Perfil
            <p-sortIcon field="role"></p-sortIcon>
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-user>
        <tr>
          <td>{{ user.name }}</td>
          <td>{{ user.username }}</td>
          <td>{{ user.createdAt | date: 'dd/MM/yyyy' }}</td>
          <td>{{ roleEnum[user.role] }}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
